(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{2222:function(e,t,a){"use strict";a.d(t,"c",(function(){return f})),a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return b}));var n=a(0),r=a.n(n),o=a(35),i=a(68),c=a(18);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(s){r=!0,o=s}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"location",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"queryString",n=function(n){var o=u({},n,d({},a,p(n[t])));return r.a.createElement(e,o)},o=e.displayName||e.name||"Component";return n.displayName="WithQueryString(".concat(o,")"),n},p=function(e){var t=s(r.a.useState(new i.a(e.search)),2),a=t[0],n=t[1];return Object(c.g)((function(){n(new i.a(e.search))}),[e.search]),a},b=function(){return p(Object(o.h)())}},2224:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=(a(1),a(4)),i=a(15);a(2228);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c.apply(this,arguments)}t.a=function(e){var t,a=e.image;if(!a)return"";var n={className:Object(o.m)("ac-icon__image",e.imageClassName)};if(e.title&&(n.title=e.title),e.alt&&(n.alt=e.alt),a.prefix&&a.iconName)t=r.a.createElement(i.a,c({icon:a},n));else if("function"==typeof a){var s=a;t=r.a.createElement(s,n)}else"string"==typeof a&&(t=r.a.createElement("img",c({src:a},n)));return r.a.createElement("div",{className:Object(o.m)("ac-icon",e.className)},t)}},2228:function(e,t,a){},2230:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n,r,o=a(4),i=a(117),c=a.n(i),s=[{name:"xs",min:null,max:575.98},{name:"sm",min:576,max:767.98},{name:"md",min:768,max:991.98},{name:"lg",min:992,max:1199.98},{name:"xl",min:1200,max:null}],l=s.map((function(e){return e.name}));b();var u={},d={},f={add:function(e){var t=Object(o.s)();if(u[t]=e,d[t]=null,1==Object.keys(u).length)if(f.usingMatchMedia())for(var a=0,i=Object.values(n);a<i.length;a++){i[a].addListener(r)}else window.addEventListener("resize",r);return p(null,t),t},remove:function(e){if(delete u[e],delete d[e],0==Object.keys(u).length)if(f.usingMatchMedia())for(var t=0,a=Object.values(n);t<a.length;t++){a[t].removeListener(r)}else window.removeEventListener("resize",r)},currentView:function(){if(f.usingMatchMedia())for(var e=0,t=Object.keys(n);e<t.length;e++){var a=t[e];if(n[a].matches)return a}var r=window.innerWidth,o=!0,i=!1,c=void 0;try{for(var l,u=s[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var d=l.value;if((!d.min||r>=d.min)&&(!d.max||r<=d.max))return d.name}}catch(p){i=!0,c=p}finally{try{o||null==u.return||u.return()}finally{if(i)throw c}}},length:function(){return Object.keys(u).length},usingMatchMedia:function(){return!!n}};function p(e,t){var a=f.currentView();(t?[t]:Object.keys(u)).filter((function(e){return d[e]!=a})).forEach((function(e){d[e]=a,u[e](a)}))}function b(){if(window.matchMedia&&matchMedia("(all)").addListener){n={};var e=!0,t=!1,a=void 0;try{for(var o,i=s[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var l=o.value,u=[];l.min&&u.push("(min-width: ".concat(l.min,"px)")),l.max&&u.push("(max-width: ".concat(l.max,"px)")),n[l.name]=matchMedia(u.join(" and "))}}catch(d){t=!0,a=d}finally{try{e||null==i.return||i.return()}finally{if(t)throw a}}r=p}else n=null,r=c()((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;requestAnimationFrame((function(){return p(0,t)}))}),100,{maxWait:300})}t.b=f},2235:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(0),r=a.n(n),o=a(1),i=a.n(o),c=a(2230);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s.apply(this,arguments)}function l(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=function(t){function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=u(this,d(a).call(this,e))).m_watcherId=0,t.state={view:c.b.currentView()},t}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,t),n=a,(o=[{key:"componentDidMount",value:function(){var e=this;this.m_watcherId=c.b.add((function(t){return e.setState({view:t})}))}},{key:"componentWillUnmount",value:function(){c.b.remove(this.m_watcherId)}},{key:"render",value:function(){return r.a.createElement(e,s({windowWidthBreakpoint:this.state.view},this.props))}}])&&l(n.prototype,o),i&&l(n,i),a}(n.Component),a=e.displayName||e.name||"Component";return t.displayName="WithWindowBreakpoints(".concat(a,")"),t}i.a.oneOf(c.a)},2248:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return o}));var n=function(e){var t=window.initialAppValues.available_locales.allowedLanguages,a=e.variant_name?e.variant_name:null,n=a&&t.find((function(e){return e.code===a}));return n?n.name:null},r=function(e,t){return e?t:"en"},o=function(){var e=console.error.bind(console);console.error=function(t){if("string"!==typeof t||!t.startsWith("[React Intl] Missing message:")){for(var a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];e.apply(void 0,[t].concat(n))}}}},2278:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return l}));var n=a(32),r=a(19),o=a(25),i=new r.a("publicOrganizations").add({requestKey:"get",url:"/organizations/[id]",effect:"read",method:"GET"},!0),c=new n.a({resourceType:"publicBadgeTemplates",requestKey:"fetchBadgeTemplates",url:"/organizations/[organization_id]/badges",urlSubs:new o.a({organization_id:{param:"organization_id",remove:!0}}),effect:"read",method:"GET",list:"general",alwaysRefresh:!0}),s=new n.a({resourceType:"publicOrganizationEarnedBadges",requestKey:"fetchPublicOrganizationEarnedBadges",url:"/organizations/[organization_id]/earned_organization_badges",urlSubs:new o.a({organization_id:{param:"organization_id",remove:!0}}),effect:"read",method:"GET",list:"general",alwaysRefresh:!0}),l=new n.a({resourceType:"publicIssuerCollections",requestKey:"fetchPublicIssuerCollections",url:"/organizations/[organization_id]/collections",urlSubs:new o.a({organization_id:{param:"organization_id",remove:!0}}),effect:"read",method:"GET",list:"general",alwaysRefresh:!0})},2286:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return i}));var n=a(19),r=new n.a("applicationProviders").add({requestKey:"list",url:"/api/v1/users/self/application_providers",effect:"read",method:"GET"}),o=new n.a("applicationProviderConnections").add({requestKey:"list",url:"/api/v1/users/self/application_provider_connections",effect:"read",method:"GET"}).add({requestKey:"create",url:"/api/v1/users/self/application_provider_connections",effect:"create",method:"POST"},!0).add({requestKey:"delete",url:"/api/v1/users/self/application_provider_connections/[id]",effect:"delete",method:"DELETE"},!0).add({requestKey:"read",url:"/api/v1/users/self/application_provider_connections/[id]",effect:"read",method:"GET"},!0),i=new n.a("oauthApplications").add({requestKey:"list",url:"/api/v1/users/self/oauth_applications",effect:"read",method:"GET"}).add({requestKey:"delete",url:"/api/v1/users/self/oauth_applications/[id]",effect:"delete",method:"DELETE"},!0)},2293:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=(a(1),a(638)),i=a.n(o),c=a(15),s=a(2065),l=a(616),u=a(2048),d=a(4),f=a(88),p=a(21),b=(a(2377),a(80)),h=a(127);function g(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}var w=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=m(this,v(t).call(this,e))).track=i()((function(){return a.props.trackId&&f.c.track({object_id:a.props.trackId,object_type:"Badge",type:a.props.trackType})})),a.copy=function(e){e.preventDefault(),a.state.copyState||(Object(d.e)(a.props.text,a.container.current)?a.setState({copyState:"success"}):a.setState({copyState:"error"}),a.track(),a.m_resetCheckmarkTimeout=setTimeout((function(){a.setState({copyState:null}),a.m_resetCheckmarkTimeout=0}),3e3))},a.m_fieldId="share"+Object(d.s)(),a.m_resetCheckmarkTimeout=0,a.state={copyState:null},a.container=r.a.createRef(),a}var a,n,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),a=t,(n=[{key:"componentWillUnmount",value:function(){clearTimeout(this.m_resetCheckmarkTimeout)}},{key:"render",value:function(){var e,t="",a=r.a.createElement(b.a,{id:"badge.view.share.copy",defaultMessage:"Copy"});return"success"===this.state.copyState?(e=l.faCheck,t=this.props.intl.formatMessage({id:"badge.view.share.copy_successfully",defaultMessage:"Successfully copied text to clipboard."}),a=r.a.createElement(b.a,{id:"badge.view.share.copied",defaultMessage:"Copied"})):"error"===this.state.copyState?(e=u.faExclamation,t=this.props.intl.formatMessage({id:"badge.view.share.copy_failed",defaultMessage:"Failed to copy text to clipboard."}),a=r.a.createElement(b.a,{id:"badge.view.share.failed",defaultMessage:"Failed"})):e=s.faCopy,r.a.createElement("div",{className:Object(d.m)("share-copy-text",this.props.className),ref:this.container},this.props.label&&r.a.createElement(p.a.InputLabel,{htmlFor:this.m_fieldId},this.props.label),r.a.createElement("div",{id:this.m_fieldId,className:"share-copy-text__content",onCopy:this.copy},r.a.createElement("div",{className:Object(d.m)("share-copy-text__content-text",this.props.nonLanguage&&"share-copy-text__non-language")},this.props.text),r.a.createElement("a",{href:"#",className:Object(d.m)("share-copy-text__link","error"===this.state.copyState&&"share-copy-text__error"),onClick:this.copy},r.a.createElement("span",{className:"share-copy-text__copy-link"},a),r.a.createElement(c.a,{icon:e,title:t,"aria-label":t,role:"alert"}))))}}])&&g(a.prototype,n),o&&g(a,o),t}(n.PureComponent);Object(h.c)(w);t.a=Object(h.c)(w)},2377:function(e,t,a){},2500:function(e,t,a){},2501:function(e,t,a){},2502:function(e,t,a){},2503:function(e,t,a){},2504:function(e,t,a){},2505:function(e,t,a){},2506:function(e,t,a){},2507:function(e,t,a){},2669:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(36),i=a(144),c=(a(1),a(38)),s=a(4),l=a(156),u=a(23),d=a(18),f=a(28),p=a(88),b=a(40),h=a(29),g=(a(2500),a(80)),m=a(69);function v(e,t,a,n,r,o,i){try{var c=e[o](i),s=c.value}catch(l){return void a(l)}c.done?t(s):Promise.resolve(s).then(n,r)}function y(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function i(e){v(o,n,r,i,c,"next",e)}function c(e){v(o,n,r,i,c,"throw",e)}i(void 0)}))}}function w(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}var k=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=_(this,E(t).call(this,e))).onClick=y(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=a.props.button).track||a.trackedClick){e.next=5;break}return a.trackedClick=!0,e.next=5,p.c.track(a.trackingProps());case 5:t.onClick();case 6:case"end":return e.stop()}}),e)}))),a.trackedClick=!1,a}var a,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,e),a=t,(o=[{key:"trackingProps",value:function(){return{object_id:this.props.badgeId,object_type:"Badge",type:this.props.button.track}}},{key:"render",value:function(){var e=this.props;return r.a.createElement(h.a,{title:r.a.createElement(g.a,{id:Object(m.b)(e.title,"badge.view.share"),defaultMessage:e.title}),show:!0,shouldClose:this.context.shouldClose,size:e.dialogSize||"half"},r.a.createElement(h.a.Content,{className:Object(s.m)("share-panel__dialog-content",e.dialogContentClassName)},r.a.createElement(n.Suspense,{fallback:r.a.createElement(b.a,{position:"below",size:"medium",delay:500})},e.subtitle&&r.a.createElement("div",{className:"share-panel__subtitle--dialog"},e.subtitle),e.children,e.button&&r.a.createElement(h.a.Footer,null,r.a.createElement(h.a.Action,{action:this.onClick,mobileSize:"auto",loading:e.button.loading,disabled:e.button.disabled,noClose:!0},e.button.label||r.a.createElement(g.a,{id:"badge.view.share",defaultMessage:"Share"}))))))}}])&&w(a.prototype,o),i&&w(a,i),t}(n.PureComponent),j=k,S=r.a.createContext({shouldClose:function(){return null}});k.contextType=S;var M=a(35),P=a(2222),C=function(e){var t=Object(P.a)().get("provider")===e,a=Object(M.g)();return{invoking:t,handleClick:Object(n.useCallback)((function(){a.replace({search:"?provider=".concat(e)})}),[]),handleClose:Object(n.useCallback)((function(){a.replace({search:null})}),[])}},x=a(126),z=a(2224),T=(a(2501),function(e){return r.a.createElement("div",null,r.a.createElement(x.a,{tagName:"div",onClick:function(){e.onClick(),e.trackingProps&&p.c.track(e.trackingProps)},className:"share-link-wrapper__share-option"},e.busy?r.a.createElement(b.a,{size:"small",position:"default",className:"share-link-wrapper__icon-container"}):r.a.createElement(z.a,{image:e.icon,className:"share-link-wrapper__icon-container",imageClassName:"share-link-wrapper-ui__icon"}),r.a.createElement(g.a,{id:Object(m.b)(e.label,"badge.view.share"),defaultMessage:e.label})))}),N=function(e){var t=C(e.provider),a=t.invoking,n=t.handleClick,o=t.handleClose;return r.a.createElement("div",null,r.a.createElement(T,{icon:e.icon,label:e.label,onClick:n}),a&&r.a.createElement(S.Provider,{value:{shouldClose:o}},e.children))},I=a(84),D=a(125),A=a(45),R=a(2286);function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(s){r=!0,o=s}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function F(){return F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},F.apply(this,arguments)}var U=function(e){var t=L(R.b.useOnMount("list"),1)[0],a=L(R.a.useOnMount("list"),1)[0],n=t.resources.find((function(t){return t.settings_key===e})),r=n&&a.resources.find((function(e){return e.application_provider.id===n.id}));return{loading:t.status.pending||a.status.pending,connection:r&&r.connection_active?r:null,provider:n}},q=function(e){var t=U(e.provider),a=C(e.provider),o=a.invoking,i=a.handleClick,c=a.handleClose,s="false"===Object(P.a)().get("access_granted");Object(n.useEffect)((function(){!o||s||t.loading||t.connection||Object(u.setHref)(u.shareUrl.appProvider(e.provider,t.provider.type,t.provider.id,e.badge.id))}),[o,s,t.loading,t.connection]);var l=o&&!s&&(t.loading||!t.connection);return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{icon:e.icon,label:e.label,busy:l,onClick:i}),o&&t.connection&&r.a.createElement(S.Provider,{value:{shouldClose:c}},e.children(c)))},B=a(2056),W=a(465),V=a(21),G=(a(2502),a(280));function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(s){r=!0,o=s}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var K=function(e){var t=U("linked_in"),a=H(D.v.useAction("share","linkedin"+e.badge.id),2),n=a[0],o=a[1],i=H(r.a.useState(!1),2),c=i[0],s=i[1],l=H(r.a.useState({checked:!0,text:""}),2),d=l[0],f=l[1],p=H(r.a.useState(!0),2),h=p[0],m=p[1],v=H(r.a.useState(!1),2),y=v[0],w=v[1],_=Object(G.a)();r.a.useEffect((function(){t.connection&&s(!1)}),[!!t.connection]);var E=function(){s(!0),Object(u.setHref)(u.shareUrl.appProvider("linkedin",t.provider.type,t.provider.id,e.badge.id))},O=function(){d.checked&&o({application_provider_connection_id:t.connection.id,badge_id:e.badge.id,optional_message:d.text}),h&&(window.open(Object(u.linkedInProfile)(e.badge.id),"acclaim_linkedin_a2p","noopener,noreferrer"),w(!0))},k=function(){var e,a,r;if(t.connection){if(n.status.failed)a=_.formatMessage(X.postFailed);else{var o=[];n.status.succeeded&&o.push(_.formatMessage(X.posted)),y&&o.push(_.formatMessage(X.shared)),e=0===o.length?null:o.join(" ")}e||a||(r=_.formatMessage(X.connected))}else r=_.formatMessage(X.preConnect);return[e,a,r]}(),S=H(k,3),M=S[0],P=S[1],C=S[2];return r.a.createElement(j,{title:"LinkedIn",subtitle:C,badgeId:e.badge.id,button:function(){if(!t.loading)return t.connection?{onClick:O,label:r.a.createElement(g.a,{key:"shareButton",id:"badge.view.share.share_to_linkedin",defaultMessage:"Share to LinkedIn"}),loading:n.status.pending,disabled:!d.checked&&!h}:{onClick:E,label:r.a.createElement(g.a,{key:"connectButton",id:"badge.view.share.connect",defaultMessage:"Connect"}),loading:c}}()},t.loading&&r.a.createElement(b.a,{position:"below",delay:500}),!t.loading&&r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{hide:y||!t.connection,badge:e.badge,onChange:m}),r.a.createElement(Y,{isConnected:!!t.connection,badge:e.badge,onChange:f})),M&&r.a.createElement("div",{className:"share-linkedin__success-message"},M),P&&r.a.createElement("div",{className:"share-linkedin__failure-message"},P))},X={preConnect:{id:"badge.view.share.linkedin_pre_connect",defaultMessage:"Connect to your LinkedIn account and you'll be able to share your earned badges to your LinkedIn profile."},connected:{id:"badge.view.share.linkedin_connected",defaultMessage:"Account connected! Now share your achievement:"},postFailed:{id:"badge.view.share.linkedin_post_failed",defaultMessage:"Failed to share to your LinkedIn feed. Please try again later."},posted:{id:"badge.view.share.linkedin_posted",defaultMessage:"Success! Your achievement has been shared to your LinkedIn feed."},shared:{id:"badge.view.share.linkedin_shared",defaultMessage:"Please allow a few minutes for LinkedIn to update, then confirm your achievement has been added to your profile."}},Y=function(e){var t=H(r.a.useState(!0),2),a=t[0],n=t[1],o=e.badge.issuer_linked_in_name,i=Object(G.a)().formatMessage({id:"badge.view.share.linkedin_view_achievement",defaultMessage:"View my verified achievement from {issuerName}."},{issuerName:o}),c=H(r.a.useState((function(){return i})),2),s=c[0],l=c[1],u=r.a.useCallback((function(e,t){return n(t)}),[]),d=r.a.useCallback((function(e,t){return l(t)}),[]),f=H(D.v.useAction("share","linkedin"+e.badge.id),1)[0],p=e.isConnected&&!f.status.succeeded&&!f.status.failed;return r.a.useEffect((function(){e.onChange({checked:p&&a,text:s})}),[p,a,s]),p?r.a.createElement("div",{className:"share-linkedin__newsfeed"},r.a.createElement(V.a.Checkbox,{label:r.a.createElement(g.a,{key:"shareToFeed",id:"badge.view.share.share_to_feed",defaultMessage:"Share to Feed"}),value:a,handleChange:u,name:"share"}),r.a.createElement(W.a,{className:"share-linkedin__message-section",collapsed:!a,tagName:"div"},r.a.createElement(V.a.Textarea,{className:"share-linkedin__message",inputGroupClassName:"share-linkedin__message-input",enclosed:!0,label:r.a.createElement(g.a,{key:"optionalMessage",id:"badge.view.share.optional_message",defaultMessage:"Optional Message"}),name:"message",value:s,handleChange:d}))):r.a.createElement(r.a.Fragment,null)},J=function(e){var t=H(r.a.useState(!0),2),a=t[0],n=t[1],o=r.a.useCallback((function(e,t){return n(t)}),[]),i=e.badge.badge_template.certification&&!e.hide;return r.a.useEffect((function(){e.onChange(i&&a)}),[i,a]),i?r.a.createElement("div",{className:"share-linkedin__profile"},r.a.createElement(V.a.Checkbox,{label:r.a.createElement(g.a,{key:"addToProfile",id:"badge.view.share.add_to_profile",defaultMessage:"Add to Profile"}),value:a,handleChange:o,name:"add",className:"share-linkedin__profile-checkbox"})):r.a.createElement(r.a.Fragment,null)},$=function(e){return r.a.createElement(q,{provider:"linked_in",label:"LinkedIn",icon:B.faLinkedinIn,badge:e.badge},(function(t){return r.a.createElement(K,{badge:e.badge,handleClose:t})}))},Z=a(2058),Q=a(26),ee=a(158),te=a(2278),ae=(a(116),a(127));a(2503);function ne(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function re(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e){return oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oe(e)}function ie(e,t){return ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ie(e,t)}var ce,se=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=re(this,oe(t).call(this,e))).share=function(){a.props.share({application_provider_connection_id:a.props.app.connection.id,badge_id:a.props.badge.id,optional_message:a.state.message})},a.connect=function(){a.setState({connecting:!0});var e=a.props.app.provider;Object(u.setHref)(u.shareUrl.appProvider("twitter",e.type,e.id,a.props.badge.id))},a.state={connecting:!1,message:a.getDefaultMessage(e.badge)},a}var a,n,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(t,e),a=t,(n=[{key:"componentDidMount",value:function(){this.conditionallyLoadOrganization()}},{key:"componentWillUnmount",value:function(){this.props.organization||this.props.organizationLoader.pending||this.getRequest&&this.getRequest.abort()}},{key:"componentDidUpdate",value:function(e){var t=this.props.badge;if(t&&(!e.badge||t.id!==e.badge.id)){var a=this.getDefaultMessage(t);a!==this.state.message&&this.setState({message:a})}if(this.props.organization&&!e.organization){var n=this.getDefaultMessage(t);n!==this.state.message&&this.setState({message:n})}this.props.shareStatus.succeeded&&!e.shareStatus.succeeded&&this.props.onShareAttempt&&(this.props.onShareAttempt(),this.props.addAlert({type:"notice",text:"Success! Your achievement has been broadcast to your Twitter timeline."})),this.props.shareStatus.failed&&!e.shareStatus.failed&&this.props.onShareAttempt&&(this.props.onShareAttempt(),this.props.addAlert({type:"error",text:"Failed to share to your Twitter timeline. Please try again later."}))}},{key:"conditionallyLoadOrganization",value:function(){this.props.organization||this.props.organizationLoader.pending||(this.getRequest&&this.getRequest.abort(),this.getRequest=this.props.get())}},{key:"getDefaultMessage",value:function(e){var t;return t=this.props.organization&&this.props.organization.twitter_url?"@"+this.props.organization.twitter_url.substr("https://twitter.com/".length):Object(D.q)(e.issuer).name,this.props.intl.formatMessage({id:"badge.view.share.twitter_view_achievement",defaultMessage:"View my verified achievement from {issuerId}."},{issuerId:t})}},{key:"renderShareSection",value:function(){var e=this,t=this.props.app;if(t.loading||!this.props.badge)return r.a.createElement(b.a,{position:"center",delay:500});if(t.connection){var a=this.props.shareStatus;return a.succeeded?r.a.createElement("div",{className:"share-twitter__success-message"},r.a.createElement(g.a,{id:"badge.view.share.twitter_posted",defaultMessage:"Success! Your achievement has been broadcast to your Twitter timeline."})):a.failed?r.a.createElement("div",{className:"share-twitter__failure-message"},r.a.createElement(g.a,{id:"badge.view.share.twitter_post_failed",defaultMessage:"Failed to share to your Twitter timeline. Please try again later."})):r.a.createElement(V.a.LimitTextarea,{className:"share-twitter__message",enclosed:!0,label:r.a.createElement(g.a,{id:"badge.view.share.compose_your_tweet",defaultMessage:"Compose your Tweet"}),name:"message",value:this.state.message,handleChange:function(t,a){return e.setState({message:a})},limit:200})}}},{key:"render",value:function(){var e,t,a=this.props.app;return a.provider&&(a.connection?(this.props.shareStatus.succeeded||(t=r.a.createElement(g.a,{id:"badge.view.share.twitter_connected",defaultMessage:"Account connected! Now share your achievement."})),e={onClick:this.share,track:"badge.share.twitter",loading:this.props.shareStatus.pending,disabled:this.props.shareStatus.succeeded}):(t=r.a.createElement(g.a,{id:"badge.view.share.twitter_pre_connect",defaultMessage:"Connect to your Twitter account and you'll be able to share your earned badges on your Twitter timeline."}),e={label:r.a.createElement(g.a,{id:"badge.view.share.connect",defaultMessage:"Connect"}),onClick:this.connect,loading:this.state.connecting})),r.a.createElement(j,{title:"Twitter",subtitle:t,badgeId:this.props.badge&&this.props.badge.id,button:e},this.renderShareSection())}}])&&ne(a.prototype,n),o&&ne(a,o),t}(n.Component),le=Object(ae.c)(se),ue=(ce="twitter",function(e){var t=function(t){return r.a.createElement(e,F({},t,{app:U(ce)}))},a=e.displayName||e.name||"Component";return t.displayName="WithShareApp(".concat(a,")"),t})(Object(Q.b)((function(e,t){var a=te.d.get("get",Object(D.q)(t.badge.issuer).id);return{shareStatus:D.v.get("share","twitter"+t.badge.id).getStatus(e),organization:a.getResources(e),organizationLoader:a.getStatus(e)}}),(function(e,t){var a=te.d.get("get",Object(D.q)(t.badge.issuer).id);return{get:function(){return e(a.action())},share:function(t){return e(D.v.get("share","twitter"+t.badge_id).action(t))},addAlert:ee.a.bind(e).add}}))(le)),de=function(e){return r.a.createElement(q,{provider:"twitter",label:"Twitter",icon:Z.faTwitter,badge:e.badge},(function(t){return r.a.createElement(ue,{badge:e.badge,onShareAttempt:t})}))},fe=a(72),pe=a(2057);function be(e,t,a,n,r,o,i){try{var c=e[o](i),s=c.value}catch(l){return void a(l)}c.done?t(s):Promise.resolve(s).then(n,r)}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(s){r=!0,o=s}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ge=function(e){var t=he(Object(n.useState)(!1),2),a=t[0],o=t[1],i=he(Object(n.useState)(!1),2),c=i[0],l=i[1],u=he(Object(n.useState)(!1),2),d=u[0],f=u[1],p=Object(fe.d)(),b={object_id:e.badge.id,object_type:"Badge",type:"badge.share.facebook"};Object(n.useEffect)((function(){var e;(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,Object(s.l)();case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),o(!1),f(!0),e.abrupt("return");case 11:o(!1);case 12:case"end":return e.stop()}}),e,null,[[1,6]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function i(e){be(o,n,r,i,c,"next",e)}function c(e){be(o,n,r,i,c,"throw",e)}i(void 0)}))})()}),[]),Object(n.useEffect)((function(){c&&d&&p.add({type:"error",text:"We're sorry. The Facebook share dialog isn't loading right now."})}),[c,d]),Object(n.useEffect)((function(){c&&!a&&FB.ui({method:"share",href:"".concat(document.location.origin,"/badges/").concat(e.badge.id,"/facebook")},(function(e){l(!1),e&&e.error_message&&p.add({type:"error",text:"We're sorry. There was an error sharing to Facebook: ".concat(e.error_message)})}))}),[c,a]);return r.a.createElement(T,{icon:pe.faFacebookF,label:"Facebook",busy:a&&c,onClick:function(){l(!0)},trackingProps:b})},me=a(2149),ve=function(e){var t={object_id:e.badge.id,object_type:"Badge",type:"badge.share.xing"};return r.a.createElement(T,{icon:me.faXing,label:"Xing",onClick:function(){window.open(u.shareUrl.xing(e.badge.id),"_blank","noopener,noreferrer")},trackingProps:t})},ye=["styles"];function we(){return we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},we.apply(this,arguments)}function _e(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ee=function(e){e.styles;var t=_e(e,ye);return r.a.createElement("svg",we({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 360 360"},t),r.a.createElement("defs",null,r.a.createElement("clipPath",{clipPathUnits:"userSpaceOnUse",id:"a"},r.a.createElement("path",{fill:"#005850",fillRule:"evenodd",d:"M22.967 23.5H90.99v66.857H22.967z"}))),r.a.createElement("g",{clipPath:"url(#a)",transform:"matrix(5.35008 0 0 5.35008 -121.913 -123.085)"},r.a.createElement("path",{d:"M107.864 68.132c-3.697 0-7.037-.408-10.012-3.385l3.834-3.833c1.942 1.938 4.467 2.208 6.269 2.208 2.031 0 4.148-.675 4.148-2.434 0-1.174-.629-1.985-2.479-2.167l-3.699-.36c-4.24-.404-6.854-2.253-6.854-6.586 0-4.869 4.282-7.485 9.064-7.485 3.653 0 6.72.632 8.976 2.75l-3.607 3.653c-1.354-1.217-3.43-1.576-5.459-1.576-2.344 0-3.336 1.082-3.336 2.254 0 .857.361 1.85 2.436 2.03l3.7.361c4.643.45 6.992 2.932 6.992 6.9-.001 5.187-4.423 7.67-9.973 7.67zM125.771 57.937c0 3.022 1.85 5.232 5.143 5.232 2.568 0 3.832-.722 5.32-2.21l3.564 3.472c-2.391 2.392-4.691 3.701-8.932 3.701-5.547 0-10.867-2.526-10.867-12.045 0-7.668 4.148-11.997 10.236-11.997 6.539 0 10.238 4.783 10.238 11.232v2.614h-14.702zm8.391-6.542c-.635-1.396-1.943-2.434-3.926-2.434-1.986 0-3.293 1.038-3.924 2.434-.361.859-.494 1.491-.541 2.529h8.932c-.047-1.038-.182-1.67-.541-2.529zM148.908 57.937c0 3.022 1.852 5.232 5.141 5.232 2.572 0 3.836-.722 5.324-2.21l3.562 3.472c-2.391 2.392-4.691 3.701-8.93 3.701-5.549 0-10.871-2.526-10.871-12.045 0-7.668 4.15-11.997 10.24-11.997 6.539 0 10.238 4.783 10.238 11.232v2.614h-14.704zm8.391-6.542c-.633-1.396-1.941-2.434-3.924-2.434-1.986 0-3.295 1.038-3.926 2.434-.361.859-.496 1.491-.541 2.529h8.932c-.045-1.038-.182-1.67-.541-2.529zM181.562 67.862l-5.77-9.792-2.486 2.802v6.99h-5.861V35.745h5.861v18.224l7.805-9.608h7.084l-8.391 9.473 9.02 14.029h-7.262z"}),r.a.createElement("path",{fill:"#005850",d:"M23.702 56.548c0-17.955 14.554-32.507 32.506-32.507 17.958 0 32.508 14.552 32.508 32.507 0 17.952-14.551 32.505-32.508 32.505-17.953 0-32.506-14.553-32.506-32.505z"}),r.a.createElement("path",{fill:"#fff",d:"M56.979 36.439c0-1.123.906-2.033 2.027-2.033a2.032 2.032 0 11-2.027 2.033zM63.297 43.269a2.24 2.24 0 114.482-.002 2.24 2.24 0 01-4.482.002zM56.979 43.269a2.03 2.03 0 114.063.001 2.03 2.03 0 01-4.063-.001zM70.026 50.121a2.513 2.513 0 012.517-2.517 2.511 2.511 0 012.513 2.517 2.511 2.511 0 01-2.513 2.515 2.514 2.514 0 01-2.517-2.515zM63.297 50.1a2.24 2.24 0 114.48 0 2.24 2.24 0 01-4.48 0zM56.979 50.1a2.032 2.032 0 114.06.002 2.032 2.032 0 01-4.06-.002zM50.938 50.1c0-.981.795-1.776 1.778-1.776a1.776 1.776 0 110 3.553 1.777 1.777 0 01-1.778-1.777zM45.904 50.1c0-.842.682-1.525 1.523-1.525a1.525 1.525 0 010 3.049 1.523 1.523 0 01-1.523-1.524zM41.103 50.1a1.27 1.27 0 112.54 0 1.27 1.27 0 11-2.54 0zM37.041 50.1a1.017 1.017 0 012.035 0 1.017 1.017 0 01-2.035 0zM33.195 50.1a.761.761 0 111.524 0 .761.761 0 11-1.524 0zM29.944 50.1a.509.509 0 111.017.003.509.509 0 01-1.017-.003zM70.026 56.949a2.516 2.516 0 115.03 0 2.51 2.51 0 01-2.513 2.515 2.512 2.512 0 01-2.517-2.515zM63.297 56.929a2.239 2.239 0 012.238-2.238 2.24 2.24 0 110 4.48 2.242 2.242 0 01-2.238-2.242zM56.979 56.929c0-1.124.906-2.03 2.027-2.03a2.03 2.03 0 110 4.062 2.029 2.029 0 01-2.027-2.032zM50.938 56.929c0-.982.795-1.776 1.778-1.776a1.777 1.777 0 110 3.554 1.777 1.777 0 01-1.778-1.778zM45.904 56.929a1.523 1.523 0 113.045 0 1.523 1.523 0 01-3.045 0zM41.103 56.929c0-.703.568-1.269 1.27-1.269.704 0 1.27.565 1.27 1.269s-.566 1.271-1.27 1.271a1.27 1.27 0 01-1.27-1.271zM37.041 56.929a1.017 1.017 0 012.035 0 1.017 1.017 0 01-2.035 0zM33.195 56.929a.76.76 0 111.524 0 .76.76 0 01-.762.761.76.76 0 01-.762-.761zM29.944 56.929a.507.507 0 111.015 0 .508.508 0 11-1.015 0zM76.927 56.996a2.755 2.755 0 115.51 0 2.754 2.754 0 11-5.51 0zM70.026 63.779a2.515 2.515 0 115.03 0 2.515 2.515 0 11-5.03 0zM63.297 63.761a2.24 2.24 0 114.482-.002 2.24 2.24 0 01-4.482.002zM56.979 63.761c0-1.123.906-2.033 2.027-2.033a2.031 2.031 0 11-2.027 2.033zM50.938 63.761a1.779 1.779 0 113.557 0c0 .983-.794 1.775-1.779 1.775a1.774 1.774 0 01-1.778-1.775zM45.904 63.761a1.52 1.52 0 011.523-1.523 1.521 1.521 0 11-1.523 1.523zM41.103 63.761c0-.705.568-1.27 1.27-1.27.704 0 1.27.564 1.27 1.27a1.27 1.27 0 01-2.54 0zM37.041 63.761a1.02 1.02 0 011.019-1.018 1.018 1.018 0 11-1.019 1.018zM33.195 63.761a.763.763 0 111.526-.004.763.763 0 01-1.526.004zM29.944 63.761a.508.508 0 111.014-.006.508.508 0 01-1.014.006zM63.297 70.592a2.24 2.24 0 114.482-.002 2.24 2.24 0 01-4.482.002zM56.979 70.592c0-1.122.906-2.036 2.027-2.036a2.032 2.032 0 11-2.027 2.036zM56.979 77.419a2.03 2.03 0 114.063.007 2.03 2.03 0 01-4.063-.007z"})))},Oe=function(e){var t={object_id:e.badge.id,object_type:"Badge",type:"badge.share.seek"};return r.a.createElement(T,{icon:Ee,label:"Seek",onClick:function(){window.open(Object(u.shareToSeekUrl)(e.badge.id),"_blank","noopener,noreferrer")},trackingProps:t})},ke=a(2150),je=function(e){var t={object_id:e.badge.id,object_type:"Badge",type:"badge.share.weibo"};return r.a.createElement(T,{icon:ke.faWeibo,label:"Weibo",onClick:function(){window.open(u.shareUrl.weibo(e.badge.id),"_blank","noopener,noreferrer")},trackingProps:t})},Se=a(2151),Me=function(e){var t={object_id:e.badge.id,object_type:"Badge",type:"badge.share.whatsapp"};return r.a.createElement(T,{icon:Se.faWhatsapp,label:"WhatsApp",onClick:function(){window.open(u.shareUrl.whatsapp(e.badge.id),"_self","noopener,noreferrer")},trackingProps:t})},Pe=a(2152),Ce=function(e){var t={object_id:e.badge.id,object_type:"Badge",type:"badge.share.facebook_messenger"};return r.a.createElement(T,{icon:Pe.faFacebookMessenger,label:"Facebook Messenger",onClick:function(){window.open(u.shareUrl.fbmessenger(e.badge.id),"_self","noopener,noreferrer")},trackingProps:t})};a(2504);function xe(){return xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},xe.apply(this,arguments)}function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Te(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ne(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ie(e){return Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ie(e)}function De(e,t){return De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},De(e,t)}var Ae=function(e){function t(){var e,a;ze(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Ne(this,(e=Ie(t)).call.apply(e,[this].concat(o)))).success=function(){a.props.addAlert({type:"notice",text:r.a.createElement(g.a,{id:"badge.view.share.email_success",defaultMessage:"Your achievement has been sent via email."})})},a}var a,n,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(t,e),a=t,(n=[{key:"render",value:function(){var e=this.props.badge,t=e.issuer.entities,a=(t.find((function(e){return e.primary}))||t[0]).entity.name,n=this.props.intl.formatMessage({id:"badge.view.share.email_default_subject",defaultMessage:"View my verified achievement from {issuerName}!"},{issuerName:a}),o={badge_id:e.id,recipient:"",body:"",subject:n};return r.a.createElement(V.a,xe({},this.props,{initialValues:o,onSubmitSuccess:this.success})," ",(function(t){return r.a.createElement(j,{title:"Email",badgeId:e.id,button:{label:r.a.createElement(g.a,{id:"badge.view.share.send",defaultMessage:"Send"}),onClick:t.submit,isSubmit:!0,loading:t.isSubmitting}},r.a.createElement("div",{className:"share-email__fieldset"},r.a.createElement(V.a.TextField,xe({enclosed:!0,label:r.a.createElement(g.a,{id:"badge.view.share.recipients",defaultMessage:"Recipients "}),labelSupplement:r.a.createElement(g.a,{id:"badge.view.share.separate_by_comma",defaultMessage:"(separate by comma)"}),maxLength:"255"},t.propsForFieldGroup("recipient"))),r.a.createElement(V.a.TextField,xe({enclosed:!0,label:r.a.createElement(g.a,{id:"badge.view.share.subject",defaultMessage:"Subject"}),maxLength:"255"},t.propsForFieldGroup("subject"))),r.a.createElement(V.a.Textarea,xe({enclosed:!0,label:r.a.createElement(g.a,{id:"badge.view.share.custom_message",defaultMessage:"Custom Message"})},t.propsForFieldGroup("body")))))}))}}])&&Te(a.prototype,n),o&&Te(a,o),t}(n.Component),Re=(Object(ae.c)(Ae),Ae=Object(V.f)({resourceHandler:D.h.get("email")})(Object(Q.b)(null,(function(e){return{addAlert:ee.a.bind(e).add}}))(Object(ae.c)(Ae)))),Le=a(2293);function Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ue(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qe(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Be(e){return Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Be(e)}function We(e,t){return We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},We(e,t)}var Ve=function(e){function t(){return Fe(this,t),qe(this,Be(t).apply(this,arguments))}var a,n,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(t,e),a=t,(n=[{key:"render",value:function(){return r.a.createElement(j,{title:"Share a Link"},r.a.createElement(Le.a,{label:r.a.createElement(g.a,{id:"badge.view.share.badge_url",defaultMessage:"Badge URL"}),text:"https://".concat(document.location.host).concat(Object(u.publicBadgeUrl)(this.props.badge.id)),trackId:this.props.badge.id,trackType:"badge.share.copy_url",nonLanguage:!0}))}}])&&Ue(a.prototype,n),o&&Ue(a,o),t}(n.Component);function Ge(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function He(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ke(e){return Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ke(e)}function Xe(e,t){return Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xe(e,t)}var Ye=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=He(this,Ke(t).call(this,e))).state={copyText:a.getCopyText(e.badge.id)},a}var a,n,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(t,e),a=t,(n=[{key:"componentDidUpdate",value:function(e){e.badgeId!==this.props.badgeId&&this.setState({copyText:this.getCopyText(this.props.badge.id)})}},{key:"getCopyText",value:function(e){var t=['data-iframe-width="150"','data-iframe-height="270"','data-share-badge-id="'.concat(e,'"'),'data-share-badge-host="'.concat(document.location.origin,'"')];return"<div ".concat(t.join(" "),"></div>")+'<script type="text/javascript" async src="'.concat("//".concat(initialAppValues.cdnHost,"/assets/utilities/embed.js"),'"></')+"script>"}},{key:"render",value:function(){return r.a.createElement(j,{title:"Embed Code",subtitle:r.a.createElement(g.a,{id:"badge.view.share.embed_subtitle",defaultMessage:"Copy & paste this code to display your credential on your web page, blog or anywhere else that accepts HTML."})},r.a.createElement(Le.a,{label:r.a.createElement(g.a,{id:"badge.view.share.embed_code",defaultMessage:"Embed Code"}),text:this.state.copyText,trackId:this.props.badge.id,trackType:"badge.share.embed_js",nonLanguage:!0}))}}])&&Ge(a.prototype,n),o&&Ge(a,o),t}(n.Component),Je=(a(2505),function(e){var t=Object(n.useCallback)((function(t){e.handleChange(t.target.value)}),[]);return r.a.createElement("input",{className:"slider",type:"range","aria-label":e.ariaLabel,"aria-valuetext":e.ariaValue,name:e.name,min:e.minValue,max:e.maxValue,value:e.rangeValue,onChange:t})});function $e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ze(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(s){r=!0,o=s}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var et=function(e){var t=Qe(Object(n.useState)(e.initialSliderValue),2),a=t[0],o=t[1],i=Qe(Object(n.useState)({}),2),c=i[0],s=i[1],l=Qe(Object(n.useState)({}),2),u=l[0],d=l[1],f=Qe(Object(n.useState)(e.isLoaded),2),p=f[0],b=f[1];Object(n.useEffect)((function(){var t=new Image;t.onload=function(){s({width:t.width,height:t.height}),d({width:Math.floor(t.width*(a/100)),height:Math.floor(t.height*(a/100))}),b(!0)},t.src=e.imageSrc}),[e.imageSrc]);return r.a.createElement(n.Fragment,null,p?r.a.createElement("div",null,r.a.createElement(Je,{name:"resize",ariaLabel:"Resize image",minValue:e.minValue,maxValue:e.maxValue,ariaValue:e.ariaValue,handleChange:function(t){o(t);var a=t/100;e.onChange(Math.floor(c.width*a),Math.floor(c.height*a)),d((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(a),!0).forEach((function(t){Ze(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$e(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{width:Math.floor(c.width*a),height:Math.floor(c.height*a)})}))},rangeValue:Math.floor(a)}),r.a.createElement("img",{src:e.imageSrc,className:"badge-img",style:{height:"".concat(u.height,"px"),width:"".concat(u.width,"px")}})):"")},tt=a(2235);a(2506);function at(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nt(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rt(e){return rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rt(e)}function ot(e,t){return ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ot(e,t)}var it=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=nt(this,rt(t).call(this,e))).share=function(){var e,t=null,n=a.state.resizedDimensions;n.height?(e="custom",t="".concat(n.width,"x").concat(n.height)):e="small"===a.state.imageSize?"email":null,a.downloadRequest&&a.downloadRequest.abort(),a.downloadRequest=a.props.download(a.props.badge.id,e,t,a.shareDownloadContainer.current)},a.setResizedDimensions=function(e,t){a.setState({resizedDimensions:{width:t,height:e}})},a.state={imageSize:"large",largeImageDimensions:"",resizedDimensions:{width:"",height:""}},a.downloadRequest=null,a.shareDownloadContainer=r.a.createRef(),a}var a,n,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(t,e),a=t,(n=[{key:"componentDidMount",value:function(){this.updateLargeImageDimensions(null,this.props.badge.image_url)}},{key:"componentWillUnmount",value:function(){this.downloadRequest&&this.downloadRequest.abort()}},{key:"componentDidUpdate",value:function(e){var t=this.props.badge&&this.props.badge.image_url,a=e.badge&&e.badge.image_url;a!==t&&this.updateLargeImageDimensions(a,t);var n=this.props.downloadStatus;!e.downloadStatus.failed&&n.failed&&this.props.addAlert({type:"error",text:r.a.createElement(g.a,{id:"badge.view.share.download_failed",defaultMessage:"Download failed. Please try again later."})})}},{key:"updateLargeImageDimensions",value:function(e,t){var a=this;if(t){var n=new Image;n.onload=function(){return a.setState({largeImageDimensions:"(".concat(n.width,"x").concat(n.height," px)"),imageWidth:n.width,imageHeight:n.height})},n.onerror=function(){return a.setState({largeImageDimensions:"(352x352 px)"})},n.src=t}}},{key:"render",value:function(){var e=this,t=this.props.windowWidthBreakpoint,a="md"===t||"sm"===t||"xs"===t,n=this.state.resizedDimensions;return r.a.createElement(j,{title:"Download Badge",subtitle:r.a.createElement(g.a,{id:"badge.view.share.download_subtitle",defaultMessage:"Your badge follows the open badge specifications, and can be imported to other platforms. Use the URL option to embed the badge link with the image for sharing in an email signature, resume and more."}),badgeId:this.props.badge.id,button:{onClick:this.share,loading:this.props.downloadStatus.pending,label:r.a.createElement(g.a,{id:"badge.view.share.download_image",defaultMessage:"Download Image"}),track:"badge.share.download"},dialogContentClassName:"share-download__dialog-content",dialogSize:"auto"},r.a.createElement("div",{ref:this.shareDownloadContainer}),a?r.a.createElement(V.a.RadioSet,{handleChange:function(t,a){return e.setState({imageSize:a})},name:"image-size",value:this.state.imageSize,ariaLabel:"Image size"},r.a.createElement("div",{className:"share-download__fieldset"},r.a.createElement(V.a.Radio,{headLabel:r.a.createElement(g.a,{id:"badge.view.share.large_image",defaultMessage:"Large Image"}),label:r.a.createElement(g.a,{id:"badge.view.share.download_documents",defaultMessage:"Ideal for resumes and documents {imageDimensions}",values:{imageDimensions:this.state.largeImageDimensions}}),value:"large"}),r.a.createElement(V.a.Radio,{headLabel:r.a.createElement(g.a,{id:"badge.view.share.small_image",defaultMessage:"Small Image"}),label:r.a.createElement(g.a,{id:"badge.view.share.download_signatures",defaultMessage:"Ideal for email signatures (125x125 px)"}),value:"small"}))):r.a.createElement("div",{className:"share-download__fieldset"},n.height?r.a.createElement("span",null,r.a.createElement(g.a,{id:"badge.view.share.resized_image",defaultMessage:"Resized Image:"})," ",r.a.createElement("span",{id:"share-download__size"},n.height,"px X ",n.height,"px")):r.a.createElement("span",null,r.a.createElement(g.a,{id:"badge.view.share.download_move_slider",defaultMessage:"Image not yet resized. Move slider to adjust dimensions or click Download Image to download the image with the original dimensions of "}),this.state.largeImageDimensions),r.a.createElement(et,{ariaDescribedBy:"share-download__size",ariaValue:"".concat(n.height," by ").concat(n.height),initialSliderValue:25,minValue:10,maxValue:100,imageSrc:this.props.badge.image_url,onChange:function(t,a){return e.setResizedDimensions(t,a)}})))}}])&&at(a.prototype,n),o&&at(a,o),t}(n.Component),ct=Object(tt.a)(it),st=Object(Q.b)((function(e){return{downloadStatus:D.m.getStatus(e)}}),(function(e){return{download:function(t,a,n,r){return e(D.m.action(t,{badge_id:t,version:a,custom_image_size:n},r))},addAlert:fe.c.bind(e).add}}))(ct);function lt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ut(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dt(e){return dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dt(e)}function ft(e,t){return ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ft(e,t)}var pt=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=ut(this,dt(t).call(this,e))).share=function(){var e=a.props;a.downloadRequest&&a.downloadRequest.abort(),a.downloadRequest=e.download(a.props.badge.id,null,a.shareDownloadContainer.current)},a.shareDownloadContainer=r.a.createRef(),a}var a,n,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(t,e),a=t,(n=[{key:"componentWillUnmount",value:function(){this.downloadRequest&&this.downloadRequest.abort()}},{key:"componentDidUpdate",value:function(e){!e.downloadStatus.failed&&this.props.downloadStatus.failed&&this.props.addAlert({type:"error",text:r.a.createElement(g.a,{id:"badge.view.share.download_failed",defaultMessage:"Download failed. Please try again later."})})}},{key:"render",value:function(){return r.a.createElement(j,{title:"Print",subtitle:r.a.createElement(g.a,{id:"badge.view.share.print_subtitle",defaultMessage:"Download a printable copy of your achievement."}),badgeId:this.props.badge.id,button:{onClick:this.share,loading:this.props.downloadStatus.pending,label:r.a.createElement(g.a,{id:"badge.view.share.download_pdf",defaultMessage:"Download PDF"}),track:"badge.print.clicked"}},r.a.createElement("div",{ref:this.shareDownloadContainer}))}}])&&lt(a.prototype,n),o&&lt(a,o),t}(n.Component),bt=Object(Q.b)((function(e){return{downloadStatus:D.n.getStatus(e)}}),(function(e){return{download:function(t,a,n){return e(D.n.action(t,a,n))},addAlert:fe.c.bind(e).add}}))(pt),ht=a(113);function gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vt(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yt(e){return yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yt(e)}function wt(e,t){return wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wt(e,t)}var _t=function(e){function t(){var e,a;gt(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=vt(this,(e=yt(t)).call.apply(e,[this].concat(r)))).share=function(){return a.props.publish(a.props.badge.id)},a.download=function(){return Object(ht.a)(Object(u.blockcertDownloadUrl)(a.props.badge.id,a.props.badge.blockcert.id))},a}var a,n,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(t,e),a=t,(n=[{key:"componentDidMount",value:function(){var e=this.props.badge.blockcert;e&&"successful"!==e.state&&"failed"!==e.state&&this.props.publish(this.props.badge.id,e.id)}},{key:"componentWillUnmount",value:function(){this.props.stop(this.props.badge.id)}},{key:"render",value:function(){var e,a,n,o=this.props.badge,i=o.blockcert,c=this.props.publishState,s=i&&"successful"===i.state,l=i&&"failed"===i.state||c.failed,u=i&&i.state in{ready:1,issuing:1,building:1,provisioning:1}||c.succeeded;if(s||l||u)s&&(e={onClick:this.download,label:r.a.createElement(g.a,{id:"badge.view.share.download_certificate",defaultMessage:"Download Certificate"})});else{var d=c.pending;e={onClick:this.share,label:r.a.createElement(g.a,{id:"badge.view.share.publish",defaultMessage:"Publish"}),disabled:d,loading:d}}return a=s?t.TEXT_PUBLISHED:l?t.TEXT_FAILED:u?t.TEXT_PUBLISHING:t.TEXT_DEFAULT,r.a.createElement(j,{title:"Blockchain",subtitle:a,badgeId:o.id,button:e},n)}}])&&mt(a.prototype,n),o&&mt(a,o),t}(n.Component);_t.TEXT_PUBLISHED=r.a.createElement(g.a,{id:"badge.view.share.blockchain_published",defaultMessage:"A permanent record of this badge has been published to the blockchain. You may download a JSON file to use with independent verification services, or to store within a personal wallet."}),_t.TEXT_FAILED=r.a.createElement(g.a,{id:"badge.view.share.blockchain_failed",defaultMessage:"Error: Your badge could not be published to blockchain."}),_t.TEXT_PUBLISHING=r.a.createElement(g.a,{id:"badge.view.share.blockchain_publishing",defaultMessage:"Congratulations! A permanent record of your badge is pending publication to the blockchain. This page will update when the transaction is complete. As a reminder, none  of your personally identifiable information is published to the blockchain."}),_t.TEXT_DEFAULT=r.a.createElement(g.a,{id:"badge.view.share.blockchain_default",defaultMessage:"Publish your badge to the blockchain to create an immutable permanent record of your badge, which can increase third-party confidence in authenticity. Once recorded in a transaction on the blockchain, a reference to your badge will be accessible to the public for independent verification. Note: None of your personally identifiable information will be published to the blockchain."});var Et=Object(Q.b)((function(e){return{publishState:D.l.getStatus(e)}}),(function(e){return{publish:function(t,a){return e(D.l.action({id:t,certId:a}))},stop:function(e){return D.l.stopPolling(e)}}}))(_t);function Ot(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kt(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jt(e){return jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jt(e)}function St(e,t){return St=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},St(e,t)}var Mt=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=kt(this,jt(t).call(this,e))).share=function(){a.downloadRequest&&a.downloadRequest.abort(),a.downloadRequest=a.props.download(a.props.badge.id,null,a.shareDownloadContainer.current)},a.downloadRequest=null,a.shareDownloadContainer=r.a.createRef(),a}var a,n,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&St(e,t)}(t,e),a=t,(n=[{key:"componentWillUnmount",value:function(){this.downloadRequest&&this.downloadRequest.abort()}},{key:"componentDidUpdate",value:function(e){var t=this.props.downloadStatus;!e.downloadStatus.failed&&t.failed&&this.props.addAlert({type:"error",text:r.a.createElement(g.a,{id:"badge.view.share.wallet_ios.download_failed",defaultMessage:"Download failed. Please try again later."})})}},{key:"render",value:function(){var e=this;return r.a.createElement(j,{title:"Add to Wallet",subtitle:r.a.createElement(g.a,{id:"badge.view.share.wallet_ios.subtitle",defaultMessage:"Save this badge to a native or third-party mobile wallet application to have instant access to your verifiable badge in your pocket."}),badgeId:this.props.badge.id,button:{onClick:function(){return e.share()},loading:this.props.downloadStatus.pending,label:r.a.createElement(g.a,{id:"badge.view.share.wallet_ios.add_to_wallet",defaultMessage:"Add to Wallet"}),track:"badge.share.wallet"}},r.a.createElement("div",{ref:this.shareDownloadContainer}))}}])&&Ot(a.prototype,n),o&&Ot(a,o),t}(n.Component),Pt=Object(tt.a)(Mt),Ct=Object(Q.b)((function(e){return{downloadStatus:D.p.getStatus(e)}}),(function(e){return{download:function(t,a,n){return e(D.p.action(t,a,n))},addAlert:fe.c.bind(e).add}}))(Pt),xt=(a(463),a(25)),zt=new(a(19).a)("googlePayPassJWT").add({requestKey:"google_pay_jwt",url:"/api/v1/users/[user_id]/badges/[badge_id]/wallet/google_pay_jwt",urlSubs:new xt.a({user_id:{param:"user_id",remove:!0},badge_id:{param:"badge_id",remove:!0}}),effect:"read",method:"GET"});function Tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(s){r=!0,o=s}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Nt=function(e){var t=Tt(zt.get("google_pay_jwt",e.badge.id).useOnMount({user_id:e.badge.user.id,badge_id:e.badge.id}),1)[0];return r.a.createElement(j,{title:"Add to Wallet",subtitle:r.a.createElement(g.a,{id:"badge.view.share.wallet_android.subtitle",defaultMessage:"Save this badge to your Google Pay Wallet to have instant access to your verifiable badge in your pocket."}),badgeId:e.badge.id,button:{onClick:function(){t.status.succeeded&&window.open("https://pay.google.com/gp/v/save/"+t.resources.jwt)},label:r.a.createElement(g.a,{id:"badge.view.share.wallet_android.add_to_wallet",defaultMessage:"Add to Wallet"}),loading:t.status.pending,track:"badge.share.wallet"}})},It=["styles"];function Dt(){return Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Dt.apply(this,arguments)}function At(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Rt=function(e){e.styles;var t=At(e,It);return r.a.createElement("svg",Dt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 360 360"},t),r.a.createElement("path",{d:"M263 101.8c2.6-.7 5-1 7.3-.3 3.6 1 11.6 4.3 12 18.6v76.2c-1 6.6-5.4 14.2-15.3 14.2h-32.7c-3.6 3.6-11.6 10.6-26.6 11.6-.3 11.3-6.9 20.7-16.7 24.7v21.4c0 .3.3.7.7.7 45.3 1.7 74.9 16.3 83.2 21 5 3.3 6.3 9 6.3 13v16.7c-.3 6.3-5.4 10.6-11.3 10.6-5.4 0-10.2-4.7-10.6-10.2-.3-5.4 3.3-10.2 8.3-11.3.3 0 .7-.3.7-.7v-6.3c0-1.4-.7-3-2.3-3.6-12.3-6.9-43.9-10.6-67.9-11.6h-6.9c-.3 0-.7.3-.7.7-1.4 19.3-4 45.7-4 45.7h.7c4 0 7.6 4.7 7.6 10.9 0 6.3-3.6 10.9-7.6 10.9h-14.6c-4 0-7.6-4.7-7.6-10.9 0-6.3 3.6-10.9 7.6-10.9h.7c-.3-3.8-.7-8.5-1.2-13.7-.9-9-2.1-20-2.8-32 0-.3-.3-.7-.7-.7h-6.9c-24 1.4-55.6 4.7-67.9 11.6-1.4.7-2.3 2.3-2.3 3.6v6.3c0 .3.3.7.7.7 5 1.4 8.7 5.7 8.3 11.3-.3 5.4-5 10.2-10.6 10.2-6.3 0-10.9-4.7-11.3-10.6V303c0-4 1-10.2 6.3-13 8.3-4.7 37.3-19.3 83.2-20.7.3 0 .7-.3.7-.7v-21.4c-9.7-4-16.3-13.4-16.7-24.7-15.3-1-23.3-7.6-26.6-11.6H93c-9.7 0-14.2-7.6-15.3-14.2v-76.2c0-14.2 8-17.7 11.6-18.6 2.3-.7 4.7-.3 7.3.3l9.7 3.3V14c0-4.7 4-8.7 8.7-8.7h128.9c4.7 0 8.7 4 8.7 8.7v91.2l10.4-3.4zM92.1 192l14.9-11.3v-61.3c0-.3-.3-1-.7-1l-13-4.3c-1.4-.3-1.7 3.3-1.7 6.3V192c-.4 0 .2.3.5 0zm161.5-11.3l14.9 11.3c.3.3.7 0 .7 0v-71.6c0-3 0-6.6-1.7-6.3l-13 4.3c-.3.3-.7.7-.7 1v61.1h-.2z",fillRule:"evenodd",clipRule:"evenodd",fill:"#005850"}))},Lt=function(){return r.a.createElement(T,{icon:Rt,label:"ZipRecruiter",onClick:function(){window.open(u.shareUrl.ziprecruiter(),"credly_share_ziprecruiter","noopener,noreferrer")}})},Ft=a(2059),Ut=a(2055),qt=a(2110),Bt=a(2153),Wt=a(257),Vt=a(2154),Gt=a(2155),Ht=a(181),Kt=a.n(Ht),Xt=["styles"];function Yt(){return Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Yt.apply(this,arguments)}function Jt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var $t=function(e){e.styles;var t=Jt(e,Xt);return r.a.createElement("svg",Yt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 273.6 360"},t),r.a.createElement("path",{d:"M217.021 167.042c18.631-9.483 30.288-26.184 27.565-54.007-3.667-38.023-36.526-50.773-78.006-54.404l-.008-52.741h-32.139l-.009 51.354c-8.456 0-17.076.166-25.657.338l-.007-51.685-32.11-.003-.006 52.728c-6.959.142-13.793.277-20.466.277v-.156l-44.33-.018.006 34.282s23.734-.446 23.343-.013c13.013.009 17.262 7.559 18.484 14.076l.01 60.083v84.397c-.573 4.09-2.984 10.625-12.083 10.637.414.364-23.379-.004-23.379-.004l-6.375 38.335h41.817c7.792.009 15.448.13 22.959.19l.028 53.338 32.102.009-.009-52.779c8.832.18 17.357.258 25.684.247l-.009 52.532h32.138l.018-53.249c54.022-3.1 91.842-16.697 96.544-67.385 3.79-40.809-15.434-59.025-46.105-66.379zM109.535 95.321c18.126 0 75.132-5.767 75.14 32.064-.008 36.269-56.996 32.032-75.14 32.032V95.321zm-.014 167.126l.014-70.672c21.778-.006 90.085-6.261 90.094 35.32.009 39.876-68.316 35.336-90.108 35.352z"}))},Zt=a(615),Qt=a(2248),ea=a(155),ta=a(15),aa=a(351),na=a(65);a(2507);function ra(e,t,a,n,r,o,i){try{var c=e[o](i),s=c.value}catch(l){return void a(l)}c.done?t(s):Promise.resolve(s).then(n,r)}function oa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(s){r=!0,o=s}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ia=function(e){var t=oa(D.h.useOnMount("get",e.id),1)[0],a=oa(A.b.useAction(),1)[0],o=t.resources,i=Object(l.e)(),p=Object(l.b)(),h=Object(l.d)();Object(d.m)(t.status,"Share(".concat(e.id,")"));var v=Object(aa.b)(),y=oa(Object(n.useState)(),2),w=y[0],_=y[1],E=oa(Object(n.useState)(),2),O=E[0],k=E[1];Object(n.useEffect)((function(){if(o&&!t.status.pending){var e=Object(Qt.c)(o.translate_metadata,Object(m.a)(o));k(e),m.d[e]().then(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_(t);case 1:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function i(e){ra(o,n,r,i,c,"next",e)}function c(e){ra(o,n,r,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}())}}),[!!o,t.status.pending]);var j,S=function(e){var t=o.issuer.entities.find((function(e){return!0===e.primary})),n=a.resources.country;switch(e){case"weibo":return v("badge-share-weibo")&&["China","Taiwan"].includes(n);case"ziprecruiter":return t.entity.share_to_ziprecruiter&&["United States","Canada"].includes(n);case"print":return o.printing_enabled;case"xing":return["France","Germany","Spain"].includes(n);case"fbmessenger":case"whatsapp":return i;case"blockchain":return o.badge_template.record_to_blockchain;case"wallet":return v("badge-share-wallet")&&h;case"wallet-android":return v("badge-share-wallet")&&p;case"seek":return o.badge_template.certification&&["Australia","New Zealand"].includes(n);default:return!0}},M=function(){var e=function(e,t,a,n){return r.a.createElement(N,{key:t,icon:a,label:e,provider:t},n)},t=[r.a.createElement($,{key:"linked_in",badge:o}),r.a.createElement(ge,{key:"facebook",badge:o}),r.a.createElement(de,{key:"twitter",badge:o}),S("ziprecruiter")&&r.a.createElement(Lt,{key:"ziprecruiter"}),S("xing")&&r.a.createElement(ve,{key:"xing",badge:o}),S("whatsapp")&&r.a.createElement(Me,{key:"whatsapp",badge:o}),S("fbmessenger")&&r.a.createElement(Ce,{key:"fbmessenger",badge:o}),S("weibo")&&r.a.createElement(je,{key:"weibo",badge:o}),S("seek")&&r.a.createElement(Oe,{key:"seek",badge:o})].filter((function(e){return e})),a=[e("Email","email",Ft.faEnvelope,r.a.createElement(Re,{badge:o})),e("Public Link","url",Ut.faLink,r.a.createElement(Ve,{badge:o})),e("Embed Code","embed",qt.faCode,r.a.createElement(Ye,{badge:o})),e("Download Badge Image","download",Bt.faArrowDown,r.a.createElement(st,{badge:o})),S("print")&&e("Download Certificate","print",Vt.faPrint,r.a.createElement(bt,{badge:o})),S("blockchain")&&e("Blockchain","blockchain",$t,r.a.createElement(Et,{badge:o})),S("wallet")&&e("Wallet","wallet",Gt.faWallet,r.a.createElement(Ct,{badge:o})),S("wallet-android")&&e("Wallet","wallet-android",Gt.faWallet,r.a.createElement(Nt,{badge:o}))].filter((function(e){return e}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"share-ui__share-options"},r.a.createElement(f.b,null,r.a.createElement("div",{className:"share-ui__container share-ui__promote-container"},r.a.createElement(f.a,{appearance:"settings-head"},r.a.createElement(g.a,{id:"badge.share.promote",defaultMessage:"Promote"})),r.a.createElement("p",{className:"share-ui__container__description"},r.a.createElement(g.a,{id:"badge.share.social_media",defaultMessage:"Share your achievement on social media."})),r.a.createElement("div",{className:"col-12 col-md-6 share-ui__container--column"},t.splice(0,Math.ceil(t.length/2))),r.a.createElement("div",{className:"col-12 col-md-6 share-ui__container--column"},t)),r.a.createElement("div",{className:"share-ui__container share-ui__publish-container"},r.a.createElement(f.a,{appearance:"settings-head"},r.a.createElement(g.a,{id:"badge.share.publish",defaultMessage:"Publish"})),r.a.createElement("p",{className:"share-ui__container__description"},r.a.createElement(g.a,{id:"badge.share.send_your_badge",defaultMessage:"Send your badge or take it offline."})),r.a.createElement("div",{className:"col-12 col-md-6 share-ui__container--column"},a.splice(0,Math.ceil(a.length/2))),r.a.createElement("div",{className:"col-12 col-md-6 share-ui__container--column"},a)))),r.a.createElement("div",{className:"share-ui__dashboard-button-container"},r.a.createElement(na.b,{to:u.earnerBadgesUrl(),type:"secondary"},r.a.createElement(g.a,{id:"badge.share.view_badges",defaultMessage:"View badges"})),r.a.createElement(na.b,{to:u.earnerDashboardUrl()},r.a.createElement(g.a,{id:"badge.share.go_to_dashboard",defaultMessage:"View dashboard"}))))};return(o||t.status.succeeded)&&O?r.a.createElement(Zt.a,{locale:O,key:O,messages:w},r.a.createElement("div",{className:"share-ui container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(ea.a,{action:s.a.earnedBadgeUrl(e.id),className:"share-ui__back-button","aria-label":"Badge"},r.a.createElement(ta.a,{className:"share-ui__back-button-icon",icon:Wt.faLongArrowLeft}),r.a.createElement(g.a,{id:"badge.share.back",defaultMessage:"Back"})),r.a.createElement(f.a,{appearance:"action-page-head"},r.a.createElement(g.a,{id:"badge.share.share_your_badge",defaultMessage:"Share your badge."}))),r.a.createElement("div",{className:"share-ui__subtitle col-12 col-md-10 col-lg-8"},r.a.createElement(g.a,{id:"badge.share.broadcast",defaultMessage:"Broadcast your achievement to friends and colleagues to get the recognition you deserve."}))),r.a.createElement(f.b,null,r.a.createElement("div",{className:"share-ui__badge"},r.a.createElement(I.a,{className:"share-ui__badge-image",src:o.image?o.image.url:Kt.a,alt:o.badge_template.name,width:110}),r.a.createElement("div",{className:"share-ui__badge-content"},r.a.createElement(f.a,{appearance:"db-badge-title"},o.badge_template.name),r.a.createElement(D.b,{issuer:o.issuer}))),(j=r.a.createElement(c.b,{to:u.earnerBadgesUrl()},r.a.createElement(g.a,{id:"badge.share.see_all_earned_badges",defaultMessage:"See all your earned badges"})),o.public?"accepted"!==o.state?r.a.createElement("div",{className:"col-12"},r.a.createElement(g.a,{id:"badge.share.badge_not_accepted",defaultMessage:"You have not yet accepted this badge. Please accept it to enable sharing. {badgeLink}",values:{badgeLink:j}})):a.resources.profile_is_public?o.is_private_badge?r.a.createElement("div",{className:"col-12"},r.a.createElement(g.a,{id:"badge.share.badge_restricted",defaultMessage:"This badge is restricted and cannot be shared."})):M():r.a.createElement("div",{className:"col-12"},r.a.createElement(g.a,{id:"badge.share.profile_private",defaultMessage:"Your user profile must be made public in order to share your badge."})):r.a.createElement("div",{className:"col-12"},r.a.createElement(g.a,{id:"badge.share.badge_visibility",defaultMessage:"Your badge visibility is set to private. Please change your badge visibility setting to Public to enable sharing. {badgeLink}",values:{badgeLink:j}}))))),";"):r.a.createElement(b.a,{position:"center",delay:500})};function ca(e){return r.a.createElement(i.a,null,r.a.createElement(o.a,{path:"".concat(e.match.url,"/:id"),render:function(e){var t=new URLSearchParams(e.location.search);return r.a.createElement(ia,{provider:t.get("provider"),id:e.match.params.id})},title:"Share Badge"}))}a.d(t,"ShareRoutes",(function(){return ca}))},638:function(e,t){function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var n=1/0,r=17976931348623157e292,o=NaN,i="[object Symbol]",c=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,d=parseInt,f=Object.prototype.toString;function p(e,t){var p;if("function"!=typeof t)throw new TypeError("Expected a function");return e=function(e){var t=function(e){if(!e)return 0===e?e:0;if((e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==a(e)||function(e){return!!e&&"object"==a(e)}(e)&&f.call(e)==i}(e))return o;if(b(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=b(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(c,"");var n=l.test(e);return n||u.test(e)?d(e.slice(2),n?2:8):s.test(e)?o:+e}(e))===n||e===-1/0){return(e<0?-1:1)*r}return e===e?e:0}(e),p=t%1;return t===t?p?t-p:t:0}(e),function(){return--e>0&&(p=t.apply(this,arguments)),e<=1&&(t=void 0),p}}function b(e){var t=a(e);return!!e&&("object"==t||"function"==t)}e.exports=function(e){return p(2,e)}}}]);
//# sourceMappingURL=share-58bd5f97eb36e29845dc-1_0.chunk.js.map